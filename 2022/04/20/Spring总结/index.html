<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="keywords" content="Hexo Theme Keep">
    <meta name="description" content="Hexo Theme Keep">
    <meta name="author" content="Carbda">
    
    <title>
        
            Spring总结 |
        
        Carbda
    </title>
    
<link rel="stylesheet" href="/css/style.css">

    <link rel="shortcut icon" href="/images/avatar_icon.png">
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/css/font-awesome.min.css">
    <script id="hexo-configurations">
    let KEEP = window.KEEP || {};
    KEEP.hexo_config = {"hostname":"carbda.github.io","root":"/","language":"en"};
    KEEP.theme_config = {"toc":{"enable":true,"number":false,"expand_all":true,"init_open":true},"style":{"primary_color":"#0066CC","avatar":"/images/avatar_1.jpg","favicon":"/images/avatar_icon.png","article_img_align":"left","left_side_width":"260px","content_max_width":"920px","hover":{"shadow":true,"scale":true},"first_screen":{"enable":true,"background_img":"/images/bg.svg","description":"Welcome to Carbda's Blog."},"scroll":{"progress_bar":{"enable":true},"percent":{"enable":false}}},"local_search":{"enable":false,"preload":false},"code_copy":{"enable":true,"style":"mac"},"pjax":{"enable":false},"lazyload":{"enable":false},"version":"3.4.5"};
    KEEP.language_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
  </script>
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
</div>


<main class="page-container">

    

    <div class="page-main-content">

        <div class="page-main-content-top">
            <header class="header-wrapper">

    <div class="header-content">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="/images/avatar_2.png">
                </a>
            
            <a class="logo-title" href="/">
                Carbda
            </a>
        </div>

        <div class="right">
            <div class="pc">
                <ul class="menu-list">
                    
                        <li class="menu-item">
                            <a class=""
                               href="/"
                            >
                                HOME
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/archives"
                            >
                                ARCHIVES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/categories"
                            >
                                CATEGORIES
                            </a>
                        </li>
                    
                        <li class="menu-item">
                            <a class=""
                               href="/tags"
                            >
                                TAGS
                            </a>
                        </li>
                    
                    
                </ul>
            </div>
            <div class="mobile">
                
                <div class="icon-item menu-bar">
                    <div class="menu-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <div class="header-drawer">
        <ul class="drawer-menu-list">
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/">HOME</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/archives">ARCHIVES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/categories">CATEGORIES</a>
                </li>
            
                <li class="drawer-menu-item flex-center">
                    <a class=""
                       href="/tags">TAGS</a>
                </li>
            
        </ul>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="page-main-content-middle">

            <div class="main-content">

                
                    <div class="fade-in-down-animation">
    <div class="article-content-container">

        <div class="article-title">
            <span class="title-hover-animation">Spring总结</span>
        </div>

        
            <div class="article-header">
                <div class="avatar">
                    <img src="/images/avatar_1.jpg">
                </div>
                <div class="info">
                    <div class="author">
                        <span class="name">Carbda</span>
                        
                            <span class="author-label">Lv2</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fas fa-edit"></i>&nbsp;
        <span class="pc">2022-04-20 16:05:16</span>
        <span class="mobile">2022-04-20 16:05</span>
    </span>
    
        <span class="article-categories article-meta-item">
            <i class="fas fa-folder"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/categories/Java/">Java</a>&nbsp;
                    </li>
                
                    <li>
                        &gt; <a href="/categories/Java/Spring/">Spring</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fas fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/Java/">Java</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
    
    
        <span class="article-pv article-meta-item">
            <i class="fas fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        <div class="article-content markdown-body">
            <h1 id="BeanDifinition"><a href="#BeanDifinition" class="headerlink" title="BeanDifinition"></a>BeanDifinition</h1><h2 id="什么是BeanDifinition？"><a href="#什么是BeanDifinition？" class="headerlink" title="什么是BeanDifinition？"></a>什么是BeanDifinition？</h2><ul>
<li>BeanDifinition表示Bean定义，Spring根据BeanDifinition来创建Bean对象</li>
<li>BeanDifinition有很多属性来描述Bean</li>
<li>BeanDifinition是Spring中非常核心的概念</li>
</ul>
<h2 id="BeanDifinition中的重要属性"><a href="#BeanDifinition中的重要属性" class="headerlink" title="BeanDifinition中的重要属性"></a>BeanDifinition中的重要属性</h2><ul>
<li><p><strong>beanClass：</strong><br>表示一个bean的类型，比如：UserService.class、OrderService.class，Spring在创建Bean的过程中会根据此属性来实例化得到对象</p>
</li>
<li><p><strong>scope：</strong><br>表示一个bean的作用域，比如：<br>scope等于singleton，该bean就是一个<strong>单例bean</strong><br>scope等于prototype，该bean就是一个<strong>原型bean</strong></p>
</li>
<li><p><strong>isLazy：</strong><br>表示一个bean是不是需要<strong>懒加载</strong>，原型bean的isLazy属性不起作用，懒加载的单例bean，会在第一次getBean的时候生成该bean，非懒加载的单例bean，则会在Spring启动过程中直接生成好。</p>
</li>
<li><p><strong>dependsOn：</strong><br>表示一个bean在创建之前所依赖的其他bean，在一个bean创建之前，它所依赖的这些bean得先全部创建好。</p>
</li>
<li><p><strong>primary：</strong><br>表示一个bean是<strong>主bean</strong>，在Spring中一个类型可以有多个bean对象，在进行依赖注入时，如果根据类型找到了多个bean，此时会判断这些bean中是否存在一个主bean，如果存在，则直接将这个bean给注入属性。</p>
</li>
<li><p><strong>initMethodName：</strong><br>表示一个bean的初始化方法，一个bean的生命周期过程中有一个步骤叫初始化，Spring会在这个步骤中取调用bean的初始化方法，初始化逻辑由程序员自己控制，表示程序员可以自定义逻辑对bean进行加工。<br>平时使用到的@Component、@Bean、<code>&lt;bean/&gt;</code>这些都会解析为BeanDifinition</p>
</li>
</ul>
<h1 id="BeanFactory"><a href="#BeanFactory" class="headerlink" title="BeanFactory"></a>BeanFactory</h1><h2 id="什么是BeanFactory？"><a href="#什么是BeanFactory？" class="headerlink" title="什么是BeanFactory？"></a>什么是BeanFactory？</h2><ul>
<li>BeanFactory是一种“Spring容器”</li>
<li>BeanFactory翻译过来就是Bean工厂，顾名思义，它可以用来创建Bean，获取Bean</li>
<li>BeanFactory是Spring中非常核心的组件</li>
</ul>
<h2 id="BeanFactory和BeanDifinition、Bean对象的关系"><a href="#BeanFactory和BeanDifinition、Bean对象的关系" class="headerlink" title="BeanFactory和BeanDifinition、Bean对象的关系"></a>BeanFactory和BeanDifinition、Bean对象的关系</h2><ul>
<li>BeanFactory将利用Beandifinition来生成Bean对象，Beandifinition相当于BeanFactory的原材料</li>
<li>Bean对象就相当于BeanFactory所生产出来的产品</li>
</ul>
<h2 id="BeanFactory的核心子接口和实现类"><a href="#BeanFactory的核心子接口和实现类" class="headerlink" title="BeanFactory的核心子接口和实现类"></a>BeanFactory的核心子接口和实现类</h2><ul>
<li>ListableBeanFactory</li>
<li>ConfigurableBeanFactory</li>
<li>AutowireCapableBeanFactory</li>
<li>AbstractBeanFactory</li>
<li>DefaultListableBeanFActory（最重要）</li>
</ul>
<p><strong>DefaultListableBeanFActory</strong>的功能：<br>支持单例Bean、支持Bean别名、支持父子BeanFactory、支持Bean类型转化、支持Bean后置处理、支持FactoryBean、支持自动装配…</p>
<h1 id="Bean生命周期"><a href="#Bean生命周期" class="headerlink" title="Bean生命周期"></a>Bean生命周期</h1><p>Bean生命周期描述的是Spring中一个Bean创建过程和销毁过程中所经历的步骤，其中Bean创建过程是重点。<br>可以利用Bean生命周期机制对于Bean进行自定义加工。</p>
<h2 id="Bean创建的核心步骤"><a href="#Bean创建的核心步骤" class="headerlink" title="Bean创建的核心步骤"></a>Bean创建的核心步骤</h2><ol>
<li><strong>BeanDifinition</strong>：Bean定义</li>
<li><strong>构造方法推断</strong>：选出一个构造方法<br>一个Bean中可以有多个构造方法、此时就需要Spring来判断到底用哪个构造方法</li>
<li><strong>实例化</strong>：构造方法反射得到对象<br>在Spring中，可以通过BeanPostProcessor机制对实例化进行干预</li>
<li><strong>属性填充</strong>：给属性进行自动装配<br>实例化得到的对象是不完整的对象，需要进行属性填充，属性填充就是通常说的自动注入、依赖注入</li>
<li><strong>初始化</strong>：对其他属性赋值、校验<br>Spring提供了初始化机制，可以利用初始化机制对Bean进行自定义加工，比如利用InitializingBean接口来对Bean中的其他属性进行复制，或对Bean中的某些属性进行校验</li>
<li><strong>初始化后</strong>：AOP、生成代理对象<br>初始化后是Bean创建生命周期中最后一个步骤，我们常说的AOP就是在这个步骤中通过BeanPostProcessor机制实现的，初始化之后得到的对象才是真正的Bean对象。</li>
</ol>
<h1 id="依赖注入"><a href="#依赖注入" class="headerlink" title="依赖注入"></a>依赖注入</h1><h2 id="Autowired-是如何工作的？"><a href="#Autowired-是如何工作的？" class="headerlink" title="@Autowired 是如何工作的？"></a>@Autowired 是如何工作的？</h2><p>@Autowired表示某个属性是否需要进行依赖注入，可以写在属性和方法上。注解中的required属性默认为true，表示如果没有对象可以注入给属性则抛异常</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderService</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>@Autowired的<strong>注解加载某个属性上</strong>，Spring在进行Bean的生命周期过程中，在属性填充这一步，会基于实例化出来的对象，对该对象中加了@Autowired的属性自动给属性赋值。<br>Spring会先<strong>根据属性的类型</strong>去Spring容器中找出该类型所有的Bean对象，如果找出来多个，则<strong>再根据属性的名字</strong>从多个中再确定一个，如果required属性为true，并且根据属性信息找不到对象，则直接抛异常。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderService</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUserService</span> <span class="params">(UserService userService)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userService = userService;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>当@Autowired<strong>注解写在某个方法上</strong>时，Spring在Bean生命周期的属性填充阶段，会根据方法的参数类型、参数名字从Spring容器找到对象当作方法入参，自动反射调用该方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderService</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> UserService userService;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">OrderService</span> <span class="params">(UserService userService)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userService = userService;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">OrderService</span> <span class="params">(UserService userService, UserService userService1)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userService = userService;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>@Autowired<strong>加在构造方法上</strong>时，Spring会在推断构造方法阶段，选择该构造方法来进行实例化，在反射调用构造方法之前，会先根据构造方法参数类型、参数名从Spring容器中找到Bean对象，当做构造方法入参。</p>
<h2 id="Resource-是如何工作的？"><a href="#Resource-是如何工作的？" class="headerlink" title="@Resource 是如何工作的？"></a>@Resource 是如何工作的？</h2><p>@Resource中有一个name属性，针对name属性是否有值，@Resource的依赖注入底层流程是不同的。</p>
<p>@Resource如果name属性有值，那么Spring会直接根据所指定的name值去Spring容器找Bean对象，如果找到了则成功，如果没有找到，则报错。</p>
<p>@Resource如果name属性没有值，则：</p>
<ol>
<li>先判断该属性名字在Spring容器中是否存在Bean对象。</li>
<li>如果存在，则成功找到Bean对象进行注入。</li>
<li>如果不存在，则根据属性类型去Spring容器找Bean对象，找到一个则进行注入。</li>
</ol>
<h2 id="Value-是如何工作的？"><a href="#Value-是如何工作的？" class="headerlink" title="@Value 是如何工作的？"></a>@Value 是如何工作的？</h2><p>@Value注解和@Resource、@Autowired类似，也是用来对属性进行依赖注入的，只不过@Value是用来从Properties文件中获取值的，并且@Value可以解析SpEL（Spring表达式）</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@Value(&quot;zhouyu&quot;)</span><br></pre></td></tr></table></figure>
<p>直接将字符串 “zhouyu” 赋值给属性，如果属性类型不是 String ，或无法进行类型转化，则报错。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@Value(&quot;$&#123;zhouyu&#125;&quot;)</span><br></pre></td></tr></table></figure>
<p>将会把 ${} 中的字符串当作key，从 Properties 文件中找到对应的 value 赋值给属性，如果没找到，则会把 “${zhouyu}” 当作普通字符串注入给属性。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@Value(&quot;#&#123;zhouyu&#125;&quot;)</span><br></pre></td></tr></table></figure>
<p>会将 #{} 中的字符串当作Spring表达式进行解析，Spring会把 “zhouyu” 当作 beanName，并从Spring容器中找对应 bean ，如果找到则进行属性注入，没找到则报错。</p>
<h1 id="FactoryBean是什么？"><a href="#FactoryBean是什么？" class="headerlink" title="FactoryBean是什么？"></a>FactoryBean是什么？</h1><p>FactoryBean是Spring所提供的一种较灵活的创建Bean的方式，可以通过实现FactoryBean接口中的getObject()方法来返回一个对象，这个对象就是最终的Bean对象。</p>
<h2 id="FactoryBean接口中的方法"><a href="#FactoryBean接口中的方法" class="headerlink" title="FactoryBean接口中的方法"></a>FactoryBean接口中的方法</h2><p>Object getObject()：	返回的是Bean对象<br>boolean isSingleton)()：	返回的是否是单例Bean对象<br>Class getObjectType()：	返回的是Bean对象的类型</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">@Component(&quot;zhouyu&quot;)</span><br><span class="line">public class ZhouyuFactoryBean implements FactoryBean</span><br><span class="line">    @override</span><br><span class="line">    // Bean对宏</span><br><span class="line">    pubLic object get0bject() throws Exception &#123;</span><br><span class="line">        return new User() ;</span><br><span class="line">    &#125;</span><br><span class="line">    @override</span><br><span class="line">    // Bean对象的类型</span><br><span class="line">    public Class&lt;?&gt; get0bjectType() &#123;</span><br><span class="line">        return User.class;</span><br><span class="line">    &#125;</span><br><span class="line">    @0verride</span><br><span class="line">    // 所定义的Bean是中例还是原型</span><br><span class="line">    public boolean isSingleton() &#123;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上述代码，实际上对应了两个Bean对象：</p>
<ol>
<li>beanName为”zhouyu”，bean对象为getObject方法所返回的User对象。</li>
<li>beanName为”&amp;zhouyu”，bean对象为ZhouyuFactoryBean类的实例对象<br>FactoryBean对象本身也是一个Bean，同时它相当于一个小型工厂，可以生产出另外的Bean。</li>
</ol>
<p>FactoryBean是一个Spring容器，是一个大型工厂，它可以生产出各种各样的Bean。<br>FactoryBean机制被广泛的应用在Spring内部与第三方框架或组件的整合过程中。</p>
<h1 id="ApplicationContext是什么？"><a href="#ApplicationContext是什么？" class="headerlink" title="ApplicationContext是什么？"></a>ApplicationContext是什么？</h1><p>ApplicationContext是比BeanFactory更加强大的Spring容器，它既可以创建Bean、获取Bean，还支持国际化、事件广播、获取资源等BeanFactory不具备的功能。</p>
<h2 id="ApplicationContext所继承的接口"><a href="#ApplicationContext所继承的接口" class="headerlink" title="ApplicationContext所继承的接口"></a>ApplicationContext所继承的接口</h2><ul>
<li>EnvironmentCapable</li>
<li>ListableBeanFactory</li>
<li>HierarchicalBeanFactory</li>
<li>MessageSource</li>
<li>ApplicationEventPublisher</li>
<li>ResourcePatternResolver</li>
</ul>
<p><strong>EnvironmentCapable：</strong><br>ApplicationContext继承了这个接口，表示拥有了获取环境变量的功能，可以通过ApplicationContext获取操作系统环境变量和JVM环境变量。<br><strong>ListableBeanFactory：</strong><br>ApplicationContext继承了这个接口，就拥有了获取所有beanNames、判断某个beanName是否存在beanDefinition对象、统计BeanDefinition个数、获取某个类型对应的所有beanNames等功能。<br><strong>HierarchicalBeanFactory：</strong><br>ApplicationContext继承了这个接口，就拥有了获取父BeanFactory、判断某个name是否存在bean对象的功能。<br><strong>MessageSource：</strong><br>ApplicationContext继承了这个接口，就拥有了国际化功能，比如可以直接利用MessageSource对象获取某个国际化资源(比如不同国家语言所对应的字符)<br><strong>ApplicationEventPublisher：</strong><br>ApplicationContext继承了这个接口，就拥有了事件发布功能，可以发布事件，这是ApplicationContext相对于BeanFactory比较突出、常用的功能。<br><strong>ResourcePatternResolver：</strong><br>ApplicationContext继承了这个接口，就拥有了加载并获取资源的功能，这里的资源可以是文件，图片等某个URL资源都可以。</p>
<h1 id="BeanPostProcessor是什么？"><a href="#BeanPostProcessor是什么？" class="headerlink" title="BeanPostProcessor是什么？"></a>BeanPostProcessor是什么？</h1><p>BeanPostProcessor是Spring所提供的一种扩展机制，可以利用该机制对于Bean进行定制化加工，在Spring底层源码的实现中，也广泛的用到了该机制，BeanPostProcessor通常也叫做Bean后置处理器。<br>BeanPostProcessor在Spring中是一个接口，我们定义一个后置处理器，就是提供一个类实现该接口，在Spring中还存在一些接口继承了BeanPostProcessor，这些子接口是在BeanPostProcessor的基础上增加了一些其他的功能。</p>
<h2 id="BeanPostProcessor中的方法"><a href="#BeanPostProcessor中的方法" class="headerlink" title="BeanPostProcessor中的方法"></a>BeanPostProcessor中的方法</h2><p>postProcessBeforelnitialization()：	初始化前方法，表示可以利用这个方法来对Bean在初始化前进行自定义加工。<br>postProcessAfterlnitialization()：	初始化后方法，表示可以利用这个方法来对Bean在初始化后进行自定义加工。</p>
<p><strong>InstantiationAwareBeanPostProcessor：</strong><br>是BeanPostProcessor的一个子接口，它的方法：<br>postProcessBeforelnstantiation()：	实例化前<br>postProcessAfterInstantiation()：		实例化后<br>postProcessProperties()：			属性注入后</p>
<h1 id="AOP是如何工作的？"><a href="#AOP是如何工作的？" class="headerlink" title="AOP是如何工作的？"></a>AOP是如何工作的？</h1><p>AOP就是<strong>面向切面编程</strong>，是一种非常适合在无需修改业务代码的前提下，对某个或某些业务增加统一的功能，比如日志记录、权限控制、事务管理等，能很好地使得代码解耦，提高开发效率。</p>
<h2 id="AOP中的核心概念"><a href="#AOP中的核心概念" class="headerlink" title="AOP中的核心概念"></a>AOP中的核心概念</h2><ul>
<li><strong>Advice</strong><br>Advice可以理解为通知、建议，在Spring中通过定义Advice来定义代理逻辑。</li>
<li><strong>Pointcut</strong><br>Pointcut是切点，表示Advice对应的代理应用在哪个类、哪个方法上。</li>
<li><strong>Advisor</strong><br>Advisor等于Advice+Pointcut，表示代理逻辑和切点的一个整体，程序员可以通过定义或封装一个Advisor，来定义切点和代理逻辑。</li>
<li><strong>Weaving</strong><br>Weaving表示织入，将Advice代理逻辑在源代码级别嵌入到切点的过程，就叫做织入。</li>
<li><strong>Target</strong><br>Target表示目标对象，也就是被代理对象，在AOP生成的代理对象中会持有目标对象。</li>
<li><strong>Join Point</strong><br>Join Point表示连接点，在Spring AOP中，就是方法的执行点。</li>
</ul>
<h2 id="AOP的工作原理"><a href="#AOP的工作原理" class="headerlink" title="AOP的工作原理"></a>AOP的工作原理</h2><p>AOP是发生在Bean的生命周期中的：</p>
<ol>
<li>Spring生成bean对象时，先实例化出来一个对象，也就是target对象</li>
<li>再对target对象进行属性填充</li>
<li>在初始化后步骤中，会判断target对象有没有对应的切面</li>
<li>如果有切面，就表示当前target对象需要进行AOP</li>
<li>通过Cglib或JDK动态代理机制生成一个代理对象，作为最终的bean对象</li>
<li>代理对象中有一个target属性指向了target对象</li>
</ol>

        </div>

        

        
            <ul class="post-tags-box">
                
                    <li class="tag-item">
                        <a href="/tags/Java/">#Java</a>&nbsp;
                    </li>
                
            </ul>
        

        
            <div class="article-nav">
                
                
                    <div class="article-next">
                        <a class="next"
                           rel="next"
                           href="/2022/01/24/%E5%9F%BA%E4%BA%8EOneNet%E4%BA%91%E5%B9%B3%E5%8F%B0%E7%9A%84%E6%99%BA%E8%83%BDIoT%E5%87%BA%E8%A1%8C%E8%AE%BE%E5%A4%87/"
                        >
                            <span class="title flex-center">
                                <span class="post-nav-title-item">基于OneNet云平台的智能IoT出行设备</span>
                                <span class="post-nav-item">Next posts</span>
                            </span>
                            <span class="right arrow-icon flex-center">
                              <i class="fas fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        

        
    </div>
</div>


                
            </div>

        </div>

        <div class="page-main-content-bottom">
            <footer class="footer">
    <div class="info-container">
        <div class="copyright-info info-item">
            &copy;
            
              <span>2022</span>
              -
            
            2022&nbsp;<i class="fas fa-heart icon-animate"></i>&nbsp;<a href="/">Carbda</a>
        </div>
        
            <script async  src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
            <div class="website-count info-item">
                
                    <span id="busuanzi_container_site_uv">
                        Visitor Count&nbsp;<span id="busuanzi_value_site_uv"></span>&ensp;
                    </span>
                
                
                    <span id="busuanzi_container_site_pv">
                        Totalview&nbsp;<span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="theme-info info-item">
            Powered by <a target="_blank" href="https://hexo.io">Hexo</a>&nbsp;|&nbsp;Theme&nbsp;<a class="theme-version" target="_blank" href="https://github.com/XPoet/hexo-theme-keep">Keep v3.4.5</a>
        </div>
        
        
    </div>
</footer>

        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="tools-list">
        <!-- TOC aside toggle -->
        
            <li class="tools-item page-aside-toggle">
                <i class="fas fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
    </ul>
</div>

        </div>
    

    <div class="right-bottom-side-tools">
        <div class="side-tools-container">
    <ul class="side-tools-list">
        <li class="tools-item tool-font-adjust-plus flex-center">
            <i class="fas fa-search-plus"></i>
        </li>

        <li class="tools-item tool-font-adjust-minus flex-center">
            <i class="fas fa-search-minus"></i>
        </li>

        <li class="tools-item tool-expand-width flex-center">
            <i class="fas fa-arrows-alt-h"></i>
        </li>

        <li class="tools-item tool-dark-light-toggle flex-center">
            <i class="fas fa-moon"></i>
        </li>

        <!-- rss -->
        

        
            <li class="tools-item tool-scroll-to-top flex-center">
                <i class="fas fa-arrow-up"></i>
            </li>
        

        <li class="tools-item tool-scroll-to-bottom flex-center">
            <i class="fas fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="exposed-tools-list">
        <li class="tools-item tool-toggle-show flex-center">
            <i class="fas fa-cog fa-spin"></i>
        </li>
        
    </ul>
</div>

    </div>

    
        <aside class="page-aside">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#BeanDifinition"><span class="nav-text">BeanDifinition</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFBeanDifinition%EF%BC%9F"><span class="nav-text">什么是BeanDifinition？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BeanDifinition%E4%B8%AD%E7%9A%84%E9%87%8D%E8%A6%81%E5%B1%9E%E6%80%A7"><span class="nav-text">BeanDifinition中的重要属性</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#BeanFactory"><span class="nav-text">BeanFactory</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AFBeanFactory%EF%BC%9F"><span class="nav-text">什么是BeanFactory？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BeanFactory%E5%92%8CBeanDifinition%E3%80%81Bean%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="nav-text">BeanFactory和BeanDifinition、Bean对象的关系</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BeanFactory%E7%9A%84%E6%A0%B8%E5%BF%83%E5%AD%90%E6%8E%A5%E5%8F%A3%E5%92%8C%E5%AE%9E%E7%8E%B0%E7%B1%BB"><span class="nav-text">BeanFactory的核心子接口和实现类</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Bean%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="nav-text">Bean生命周期</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Bean%E5%88%9B%E5%BB%BA%E7%9A%84%E6%A0%B8%E5%BF%83%E6%AD%A5%E9%AA%A4"><span class="nav-text">Bean创建的核心步骤</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BE%9D%E8%B5%96%E6%B3%A8%E5%85%A5"><span class="nav-text">依赖注入</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Autowired-%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84%EF%BC%9F"><span class="nav-text">@Autowired 是如何工作的？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Resource-%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84%EF%BC%9F"><span class="nav-text">@Resource 是如何工作的？</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Value-%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84%EF%BC%9F"><span class="nav-text">@Value 是如何工作的？</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#FactoryBean%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-text">FactoryBean是什么？</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#FactoryBean%E6%8E%A5%E5%8F%A3%E4%B8%AD%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-text">FactoryBean接口中的方法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#ApplicationContext%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-text">ApplicationContext是什么？</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#ApplicationContext%E6%89%80%E7%BB%A7%E6%89%BF%E7%9A%84%E6%8E%A5%E5%8F%A3"><span class="nav-text">ApplicationContext所继承的接口</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#BeanPostProcessor%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="nav-text">BeanPostProcessor是什么？</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#BeanPostProcessor%E4%B8%AD%E7%9A%84%E6%96%B9%E6%B3%95"><span class="nav-text">BeanPostProcessor中的方法</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#AOP%E6%98%AF%E5%A6%82%E4%BD%95%E5%B7%A5%E4%BD%9C%E7%9A%84%EF%BC%9F"><span class="nav-text">AOP是如何工作的？</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#AOP%E4%B8%AD%E7%9A%84%E6%A0%B8%E5%BF%83%E6%A6%82%E5%BF%B5"><span class="nav-text">AOP中的核心概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#AOP%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="nav-text">AOP的工作原理</span></a></li></ol></li></ol>
    </div>
</div>
        </aside>
    

    <div class="image-viewer-container">
    <img src="">
</div>


    

</main>



<script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/utils.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/main.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/header-shrink.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/back2top.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/dark-light-toggle.js"></script>




    <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/code-copy.js"></script>




<div class="post-scripts">
    
        <script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/left-side-toggle.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/libs/anime.min.js"></script><script src="//cdn.jsdelivr.net/npm/hexo-theme-keep@3.4.5/source/js/toc.js"></script>
    
</div>



</body>
</html>
